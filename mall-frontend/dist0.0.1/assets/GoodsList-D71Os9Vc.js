import{d as b,r as y,P as $,o as q,a as n,b as e,f as c,g as u,C as I,h as d,m as k,t as p,F as V,l as x,D,p as L,i as N,x as B,q as F,s as l,_ as G}from"./index-DSi-hGWH.js";const K={class:"goods-list-page"},P={class:"site-header"},R={class:"container header-content"},S={class:"search-bar"},E={class:"user-area"},M={class:"breadcrumbs"},U={class:"container"},j={key:0,class:"sep"},z={key:1,class:"act"},A={class:"container main-box"},H={key:0,class:"goods-list"},J=["onClick"],O={class:"img-box"},Q=["src"],T={class:"name"},W={class:"price"},X={key:1,class:"empty-box"},Y=b({__name:"GoodsList",setup(Z){const _=D(),v=F(),i=y([]),a=y(""),h=async()=>{const t=_.query,s={};t.keyword&&(s.keyword=t.keyword,a.value=t.keyword),t.familyId&&(s.familyId=t.familyId);try{const r=await L.get("/spu/search",{params:s});i.value=r}catch(r){console.error(r)}},m=()=>{a.value&&v.push({path:"/search",query:{keyword:a.value}})},f=t=>{v.push(`/detail/${t}`)};return $(()=>_.query,()=>{h()}),q(()=>{h()}),(t,s)=>{const r=d("el-icon"),g=d("el-button"),C=d("el-input"),w=d("el-empty");return l(),n("div",K,[e("div",P,[e("div",R,[e("h2",{class:"logo",onClick:s[0]||(s[0]=o=>t.$router.push("/"))},"大米商城"),e("div",S,[c(C,{modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=o=>a.value=o),placeholder:"搜一搜",class:"search-input",onKeyup:I(m,["enter"])},{append:u(()=>[c(g,{onClick:m},{default:u(()=>[c(r,null,{default:u(()=>[c(N(B))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e("div",E,[e("span",{class:"link",onClick:s[2]||(s[2]=o=>t.$router.push("/"))},"返回首页")])])]),e("div",M,[e("div",U,[e("span",{onClick:s[3]||(s[3]=o=>t.$router.push("/"))},"首页"),s[4]||(s[4]=e("span",{class:"sep"},">",-1)),s[5]||(s[5]=e("span",{class:"act"},"全部商品",-1)),a.value?(l(),n("span",j,">")):k("",!0),a.value?(l(),n("span",z,'"'+p(a.value)+'"',1)):k("",!0)])]),e("div",A,[i.value.length>0?(l(),n("div",H,[(l(!0),n(V,null,x(i.value,o=>(l(),n("div",{class:"goods-item",key:o.productId,onClick:ss=>f(o.productId)},[e("div",O,[e("img",{src:o.images&&o.images[0]?o.images[0]:"",alt:""},null,8,Q)]),e("div",T,p(o.productName),1),e("div",W,p(o.spuPrice)+" 元",1)],8,J))),128))])):(l(),n("div",X,[c(w,{description:"抱歉，没有找到相关商品"})]))])])}}}),os=G(Y,[["__scopeId","data-v-c0424209"]]);export{os as default};
