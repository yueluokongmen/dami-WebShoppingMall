import{d as V,u as v,r as k,B as x,a as y,b as p,f as e,g as a,h as r,i as c,Q as h,R as q,j as B,p as C,E as z,q as E,s as L,_ as N}from"./index-DSi-hGWH.js";const R={class:"admin-login-bg"},U={class:"login-card"},A=V({__name:"AdminLogin",setup(I){const _=E(),d=v(),t=k(!1),o=x({username:"",password:""}),f={username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},g=async()=>{if(!(!o.username||!o.password)){t.value=!0;try{const n=await C.post("/admin/login",o);d.userInfo=n,d.token="admin-token-mock",z.success("欢迎回来，管理员"),_.push("/admin/dashboard")}catch(n){console.error(n)}finally{t.value=!1}}};return(n,s)=>{const u=r("el-icon"),i=r("el-input"),m=r("el-form-item"),w=r("el-button"),b=r("el-form");return L(),y("div",R,[p("div",U,[s[3]||(s[3]=p("h2",null,"大米商城后台管理",-1)),e(b,{model:o,ref:"formRef",rules:f},{default:a(()=>[e(m,{prop:"username"},{default:a(()=>[e(i,{modelValue:o.username,"onUpdate:modelValue":s[0]||(s[0]=l=>o.username=l),placeholder:"管理员账号",size:"large"},{prefix:a(()=>[e(u,null,{default:a(()=>[e(c(h))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(m,{prop:"password"},{default:a(()=>[e(i,{modelValue:o.password,"onUpdate:modelValue":s[1]||(s[1]=l=>o.password=l),type:"password",placeholder:"密码",size:"large","show-password":""},{prefix:a(()=>[e(u,null,{default:a(()=>[e(c(q))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(w,{type:"primary",class:"login-btn",size:"large",loading:t.value,onClick:g},{default:a(()=>[...s[2]||(s[2]=[B(" 登录后台 ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"])])])}}}),j=N(A,[["__scopeId","data-v-08bd83ed"]]);export{j as default};
