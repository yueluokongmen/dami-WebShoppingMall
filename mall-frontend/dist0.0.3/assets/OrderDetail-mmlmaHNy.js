import{d as N,r as S,c as w,o as T,a as n,b as s,m as c,t as a,f as i,g as _,h as p,j as r,I as $,F as C,l as V,H as x,p as D,s as d,_ as A}from"./index-Cs2oV9HB.js";const B={class:"order-detail-page"},O={class:"site-header"},P={class:"container header-content"},q={class:"user-area"},E={class:"container"},F={class:"detail-header"},j={class:"status-text"},H={key:0,class:"actions"},L={class:"steps-box"},M={class:"detail-body"},Q={class:"info-section"},R={key:0,class:"info-content"},z={class:"row"},G={class:"row"},J={class:"row"},K={class:"info-section"},U={class:"info-content"},W={class:"row"},X={class:"row"},Y={key:0,class:"row"},Z={class:"goods-section"},ss={class:"goods-table"},ts={class:"col-main"},es=["src"],os={class:"name"},as={class:"col-price"},ls={class:"col-num"},ns={class:"col-total"},is={class:"total-section"},rs={class:"row"},ds={class:"val"},us={class:"row total"},vs={class:"val price"},m="/imgs/default.webp",cs=N({__name:"OrderDetail",setup(ps){const f=x(),e=S({}),g=w(()=>{const o=e.value.orderStatus;return o===0?1:o===1?2:o===2?3:o===3?4:1}),b=async()=>{const o=f.query.orderNo;if(o)try{const t=await D.get(`/order/detail?orderNo=${o}`);e.value=t}catch(t){console.error(t)}},y=o=>({0:"等待付款",1:"等待发货",2:"已发货",3:"交易完成"})[o]||"未知状态",u=o=>o?o.replace("T"," ").substring(0,19):"",h=o=>{o.target.src=m};return T(()=>{b()}),(o,t)=>{const k=p("el-button"),v=p("el-step"),I=p("el-steps");return d(),n("div",B,[s("div",O,[s("div",P,[s("h2",{class:"logo",onClick:t[0]||(t[0]=l=>o.$router.push("/"))},"大米商城"),t[5]||(t[5]=s("div",{class:"divider"},"|",-1)),t[6]||(t[6]=s("div",{class:"header-title"},"订单详情",-1)),s("div",q,[s("span",{class:"link",onClick:t[1]||(t[1]=l=>o.$router.push("/user"))},"个人中心"),t[4]||(t[4]=s("span",{class:"sep"},"|",-1)),s("span",{class:"link",onClick:t[2]||(t[2]=l=>o.$router.push("/"))},"返回首页")])])]),s("div",E,[s("div",F,[s("div",j,[s("h1",null,a(y(e.value.orderStatus)),1),e.value.orderStatus===0?(d(),n("div",H,[i(k,{type:"primary",onClick:t[3]||(t[3]=l=>o.$router.push(`/pay?orderNo=${e.value.orderNo}`))},{default:_(()=>[...t[7]||(t[7]=[r("立即付款",-1)])]),_:1})])):c("",!0)]),s("div",L,[i(I,{active:g.value,"finish-status":"success","align-center":""},{default:_(()=>[i(v,{title:"下单",description:u(e.value.createTime)},null,8,["description"]),i(v,{title:"付款",description:u(e.value.payTime)},null,8,["description"]),i(v,{title:"发货",description:"等待发货"}),i(v,{title:"交易完成"})]),_:1},8,["active"])])]),s("div",M,[s("div",Q,[t[12]||(t[12]=s("h3",null,"收货信息",-1)),e.value.receiverInfoSnapshot?(d(),n("div",R,[s("div",z,[t[8]||(t[8]=s("span",{class:"label"},"收货人：",-1)),s("span",null,a(e.value.receiverInfoSnapshot.receiverName),1)]),s("div",G,[t[9]||(t[9]=s("span",{class:"label"},"联系电话：",-1)),s("span",null,a(e.value.receiverInfoSnapshot.receiverPhone),1)]),s("div",J,[t[11]||(t[11]=s("span",{class:"label"},"收货地址：",-1)),s("span",null,[r(a(e.value.receiverInfoSnapshot.province)+" "+a(e.value.receiverInfoSnapshot.city)+" "+a(e.value.receiverInfoSnapshot.district)+" ",1),t[10]||(t[10]=s("br",null,null,-1)),r(" "+a(e.value.receiverInfoSnapshot.detailedAddress),1)])])])):c("",!0)]),s("div",K,[t[16]||(t[16]=s("h3",null,"订单信息",-1)),s("div",U,[s("div",W,[t[13]||(t[13]=s("span",{class:"label"},"订单编号：",-1)),r(a(e.value.orderNo),1)]),s("div",X,[t[14]||(t[14]=s("span",{class:"label"},"下单时间：",-1)),r(a(u(e.value.createTime)),1)]),e.value.payTime?(d(),n("div",Y,[t[15]||(t[15]=s("span",{class:"label"},"支付时间：",-1)),r(a(u(e.value.payTime)),1)])):c("",!0)])]),s("div",Z,[t[18]||(t[18]=s("h3",null,"商品清单",-1)),s("div",ss,[t[17]||(t[17]=$('<div class="goods-header" data-v-3a3a0f29><div class="col-main" data-v-3a3a0f29>商品名称</div><div class="col-price" data-v-3a3a0f29>单价</div><div class="col-num" data-v-3a3a0f29>数量</div><div class="col-total" data-v-3a3a0f29>小计</div></div>',1)),(d(!0),n(C,null,V(e.value.orderItems,l=>(d(),n("div",{class:"goods-item",key:l.itemId},[s("div",ts,[s("img",{src:l.skuImage||m,onError:h},null,40,es),s("span",os,a(l.skuName),1)]),s("div",as,a(l.currentPrice)+"元",1),s("div",ls,a(l.itemQuantity),1),s("div",ns,a(l.itemTotalPrice)+"元",1)]))),128))])]),s("div",is,[s("div",rs,[t[19]||(t[19]=s("label",null,"商品总价：",-1)),s("span",ds,a(e.value.totalAmount)+"元",1)]),t[22]||(t[22]=s("div",{class:"row"},[s("label",null,"运费："),s("span",{class:"val"},"0元")],-1)),s("div",us,[t[20]||(t[20]=s("label",null,"应付金额：",-1)),s("span",vs,a(e.value.totalAmount),1),t[21]||(t[21]=s("span",{class:"unit"},"元",-1))])])])])])}}}),ms=A(cs,[["__scopeId","data-v-3a3a0f29"]]);export{ms as default};
