import{d as V,r as m,D as y,a as P,b as s,f as r,g as t,h as d,j as b,p as C,G as k,q as R,s as x,_ as q}from"./index-Cs2oV9HB.js";const E={class:"login-container"},$={class:"login-header"},B={class:"header-content"},N={class:"login-body"},U={class:"login-content-wrapper"},h={class:"form-footer"},I=V({__name:"Register",setup(j){const f=R(),u=m(!1),o=y({username:"",password:"",confirmPassword:""}),g={username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],confirmPassword:[{validator:(n,e,l)=>{e===""?l(new Error("请再次输入密码")):e!==o.password?l(new Error("两次输入密码不一致!")):l()},trigger:"blur"}]},p=m(),c=async()=>{p.value&&await p.value.validate(async n=>{if(n){u.value=!0;try{await C.post("/user/register",{username:o.username,password:o.password}),k.success("注册成功，请登录"),f.push("/login")}catch{}finally{u.value=!1}}})};return(n,e)=>{const l=d("el-input"),i=d("el-form-item"),w=d("el-button"),_=d("el-form"),v=d("el-card");return x(),P("div",E,[s("div",$,[s("div",B,[s("h1",{class:"logo",onClick:e[0]||(e[0]=a=>n.$router.push("/"))},"大米商城"),e[5]||(e[5]=s("span",{class:"divider"},"|",-1)),e[6]||(e[6]=s("span",{class:"title"},"注册账号",-1))])]),s("div",N,[s("div",U,[r(v,{class:"login-card"},{default:t(()=>[e[9]||(e[9]=s("div",{class:"card-header"},[s("h3",null,"注册大米账号")],-1)),r(_,{model:o,rules:g,ref_key:"formRef",ref:p,size:"large",class:"login-form"},{default:t(()=>[r(i,{prop:"username"},{default:t(()=>[r(l,{modelValue:o.username,"onUpdate:modelValue":e[1]||(e[1]=a=>o.username=a),placeholder:"请输入注册账号"},null,8,["modelValue"])]),_:1}),r(i,{prop:"password"},{default:t(()=>[r(l,{modelValue:o.password,"onUpdate:modelValue":e[2]||(e[2]=a=>o.password=a),type:"password",placeholder:"设置密码","show-password":""},null,8,["modelValue"])]),_:1}),r(i,{prop:"confirmPassword"},{default:t(()=>[r(l,{modelValue:o.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=a=>o.confirmPassword=a),type:"password",placeholder:"确认密码","show-password":""},null,8,["modelValue"])]),_:1}),r(i,null,{default:t(()=>[r(w,{type:"primary",loading:u.value,onClick:c,class:"login-btn"},{default:t(()=>[...e[7]||(e[7]=[b(" 立即注册 ",-1)])]),_:1},8,["loading"])]),_:1}),s("div",h,[e[8]||(e[8]=s("span",{class:"text"},"已有账号？",-1)),s("span",{class:"link-text login-link",onClick:e[4]||(e[4]=a=>n.$router.push("/login"))},"直接登录")])]),_:1},8,["model"])]),_:1})])]),e[10]||(e[10]=s("div",{class:"login-footer"},[s("p",null,"大米商城版权所有-京ICP备10046444号")],-1))])}}}),G=q(I,[["__scopeId","data-v-29feabd0"]]);export{G as default};
