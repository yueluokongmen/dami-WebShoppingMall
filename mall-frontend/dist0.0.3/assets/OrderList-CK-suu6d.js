import{d as C,r as N,o as S,p as w,A as y,g as a,h as n,f as r,a as _,l as I,b as u,t as c,F as A,j as i,K as D,G as E,s as d,_ as L}from"./index-Cs2oV9HB.js";const M={class:"card-header"},O={style:{color:"#f56c6c"}},V={key:1,style:{color:"#999","font-size":"12px"}},z=C({__name:"OrderList",setup(F){const m=N([]);S(()=>{p()});const p=async()=>{const e=await w.get("/admin/order/list");m.value=e},g=e=>{D.confirm("确定要为这个订单发货吗？","发货确认",{confirmButtonText:"确定发货",cancelButtonText:"取消",type:"warning"}).then(async()=>{await w.post(`/admin/order/delivery/${e}`),E.success("发货成功！"),p()})},h=e=>{switch(e){case 0:return"待付款";case 1:return"待发货";case 2:return"已发货";case 3:return"已完成";case 4:return"已取消";default:return"未知"}},b=e=>{switch(e){case 0:return"danger";case 1:return"warning";case 2:return"primary";case 3:return"success";default:return"info"}},x=e=>e?e.replace("T"," "):"";return(e,s)=>{const f=n("el-button"),o=n("el-table-column"),k=n("el-image"),v=n("el-tag"),T=n("el-table"),B=n("el-card");return d(),y(B,null,{header:a(()=>[u("div",M,[s[1]||(s[1]=u("span",null,"订单管理列表",-1)),r(f,{type:"primary",onClick:p},{default:a(()=>[...s[0]||(s[0]=[i("刷新列表",-1)])]),_:1})])]),default:a(()=>[r(T,{data:m.value,style:{width:"100%"},border:"",stripe:""},{default:a(()=>[r(o,{prop:"orderNo",label:"订单编号",width:"220"}),r(o,{label:"购买商品","min-width":"200"},{default:a(t=>[(d(!0),_(A,null,I(t.row.orderItems,l=>(d(),_("div",{key:l.itemId,class:"order-item"},[r(k,{src:l.skuImage,style:{width:"30px",height:"30px","margin-right":"5px"}},null,8,["src"]),u("span",null,c(l.skuName)+" x "+c(l.itemQuantity),1)]))),128))]),_:1}),r(o,{prop:"totalAmount",label:"总金额",width:"100"},{default:a(t=>[u("span",O,"￥"+c(t.row.totalAmount),1)]),_:1}),r(o,{prop:"orderStatus",label:"状态",width:"100"},{default:a(t=>[r(v,{type:b(t.row.orderStatus)},{default:a(()=>[i(c(h(t.row.orderStatus)),1)]),_:2},1032,["type"])]),_:1}),r(o,{prop:"createTime",label:"下单时间",width:"180"},{default:a(t=>[i(c(x(t.row.createTime)),1)]),_:1}),r(o,{label:"操作",width:"120",fixed:"right"},{default:a(t=>[t.row.orderStatus===1?(d(),y(f,{key:0,type:"success",size:"small",onClick:l=>g(t.row.orderNo)},{default:a(()=>[...s[2]||(s[2]=[i(" 一键发货 ",-1)])]),_:1},8,["onClick"])):(d(),_("span",V,"无需操作"))]),_:1})]),_:1},8,["data"])]),_:1})}}}),j=L(z,[["__scopeId","data-v-d7e9aac4"]]);export{j as default};
