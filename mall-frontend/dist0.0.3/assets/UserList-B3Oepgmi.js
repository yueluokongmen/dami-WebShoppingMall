import{d as k,r as v,o as x,A as i,g as t,p as m,h as o,f as e,j as r,t as C,b as f,K as T,G as B,s as d,_ as I}from"./index-Cs2oV9HB.js";const D={class:"card-header"},L=k({__name:"UserList",setup(M){const c=v([]),p=async()=>{const l=await m.get("/admin/user/list");c.value=l},b=l=>{T.confirm("确定要将该用户的密码重置为 123456 吗？","警告",{type:"warning"}).then(async()=>{await m.post(`/admin/user/reset-pwd/${l}`),B.success("重置成功")})},w=l=>l?l.replace("T"," "):"";return x(()=>{p()}),(l,a)=>{const _=o("el-button"),n=o("el-table-column"),g=o("el-avatar"),u=o("el-tag"),y=o("el-table"),h=o("el-card");return d(),i(h,null,{header:t(()=>[f("div",D,[a[1]||(a[1]=f("span",null,"客户管理列表",-1)),e(_,{type:"primary",onClick:p},{default:t(()=>[...a[0]||(a[0]=[r("刷新",-1)])]),_:1})])]),default:t(()=>[e(y,{data:c.value,style:{width:"100%"},border:"",stripe:""},{default:t(()=>[e(n,{prop:"userId",label:"ID",width:"80",align:"center"}),e(n,{label:"头像",width:"80",align:"center"},{default:t(s=>[e(g,{size:40,src:s.row.avatar||"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"},null,8,["src"])]),_:1}),e(n,{prop:"username",label:"用户名",width:"150"}),e(n,{prop:"nickname",label:"昵称",width:"150"}),e(n,{prop:"mobile",label:"手机号",width:"150"}),e(n,{label:"角色",width:"100",align:"center"},{default:t(s=>[s.row.role===1?(d(),i(u,{key:0,type:"danger"},{default:t(()=>[...a[2]||(a[2]=[r("管理员",-1)])]),_:1})):(d(),i(u,{key:1,type:"info"},{default:t(()=>[...a[3]||(a[3]=[r("普通用户",-1)])]),_:1}))]),_:1}),e(n,{prop:"createTime",label:"注册时间","min-width":"180"},{default:t(s=>[r(C(w(s.row.createTime)),1)]),_:1}),e(n,{label:"操作",width:"150",fixed:"right",align:"center"},{default:t(s=>[e(_,{type:"warning",size:"small",link:"",onClick:N=>b(s.row.userId)},{default:t(()=>[...a[4]||(a[4]=[r(" 重置密码 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})}}}),z=I(L,[["__scopeId","data-v-48f917e9"]]);export{z as default};
