import{d as b,u as k,r as v,D as x,a as y,b as p,f as e,g as a,h as r,i as c,R as h,S as q,j as C,p as S,G as z,q as B,s as I,_ as L}from"./index-Cs2oV9HB.js";const N={class:"admin-login-bg"},R={class:"login-card"},U=b({__name:"AdminLogin",setup(A){const _=B(),u=k(),n=v(!1),o=x({username:"",password:""}),f={username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},g=async()=>{if(!(!o.username||!o.password)){n.value=!0;try{const t=await S.post("/admin/login",o);u.token=t.token,u.userInfo=t.user,localStorage.setItem("token",t.token),z.success("欢迎回来，管理员"),_.push("/admin/dashboard")}catch(t){console.error(t)}finally{n.value=!1}}};return(t,s)=>{const d=r("el-icon"),i=r("el-input"),m=r("el-form-item"),w=r("el-button"),V=r("el-form");return I(),y("div",N,[p("div",R,[s[3]||(s[3]=p("h2",null,"大米商城后台管理",-1)),e(V,{model:o,ref:"formRef",rules:f},{default:a(()=>[e(m,{prop:"username"},{default:a(()=>[e(i,{modelValue:o.username,"onUpdate:modelValue":s[0]||(s[0]=l=>o.username=l),placeholder:"管理员账号",size:"large"},{prefix:a(()=>[e(d,null,{default:a(()=>[e(c(h))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(m,{prop:"password"},{default:a(()=>[e(i,{modelValue:o.password,"onUpdate:modelValue":s[1]||(s[1]=l=>o.password=l),type:"password",placeholder:"密码",size:"large","show-password":""},{prefix:a(()=>[e(d,null,{default:a(()=>[e(c(q))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(w,{type:"primary",class:"login-btn",size:"large",loading:n.value,onClick:g},{default:a(()=>[...s[2]||(s[2]=[C(" 登录后台 ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"])])])}}}),j=L(U,[["__scopeId","data-v-71f80f41"]]);export{j as default};
