import{d as b,r as y,Q as $,o as q,a as n,b as e,f as c,g as u,E as I,h as d,m as k,t as p,F as V,l as x,H as L,p as N,i as B,x as D,q as E,s as l,_ as F}from"./index-Cvb7EvRk.js";const G={class:"goods-list-page"},K={class:"site-header"},R={class:"container header-content"},S={class:"search-bar"},H={class:"user-area"},M={class:"breadcrumbs"},P={class:"container"},Q={key:0,class:"sep"},U={key:1,class:"act"},j={class:"container main-box"},z={key:0,class:"goods-list"},A=["onClick"],J={class:"img-box"},O=["src"],T={class:"name"},W={class:"price"},X={key:1,class:"empty-box"},Y=b({__name:"GoodsList",setup(Z){const _=L(),v=E(),i=y([]),a=y(""),h=async()=>{const t=_.query,s={};t.keyword&&(s.keyword=t.keyword,a.value=t.keyword),t.familyId&&(s.familyId=t.familyId);try{const r=await N.get("/spu/search",{params:s});i.value=r}catch(r){console.error(r)}},m=()=>{a.value&&v.push({path:"/search",query:{keyword:a.value}})},f=t=>{v.push(`/detail/${t}`)};return $(()=>_.query,()=>{h()}),q(()=>{h()}),(t,s)=>{const r=d("el-icon"),g=d("el-button"),w=d("el-input"),C=d("el-empty");return l(),n("div",G,[e("div",K,[e("div",R,[e("h2",{class:"logo",onClick:s[0]||(s[0]=o=>t.$router.push("/"))},"大米商城"),e("div",S,[c(w,{modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=o=>a.value=o),placeholder:"搜一搜",class:"search-input",onKeyup:I(m,["enter"])},{append:u(()=>[c(g,{onClick:m},{default:u(()=>[c(r,null,{default:u(()=>[c(B(D))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e("div",H,[e("span",{class:"link",onClick:s[2]||(s[2]=o=>t.$router.push("/"))},"返回首页")])])]),e("div",M,[e("div",P,[e("span",{onClick:s[3]||(s[3]=o=>t.$router.push("/"))},"首页"),s[4]||(s[4]=e("span",{class:"sep"},">",-1)),s[5]||(s[5]=e("span",{class:"act"},"全部商品",-1)),a.value?(l(),n("span",Q,">")):k("",!0),a.value?(l(),n("span",U,'"'+p(a.value)+'"',1)):k("",!0)])]),e("div",j,[i.value.length>0?(l(),n("div",z,[(l(!0),n(V,null,x(i.value,o=>(l(),n("div",{class:"goods-item",key:o.productId,onClick:ss=>f(o.productId)},[e("div",J,[e("img",{src:o.images&&o.images[0]?o.images[0]:"",alt:""},null,8,O)]),e("div",T,p(o.productName),1),e("div",W,p(o.spuPrice)+" 元",1)],8,A))),128))])):(l(),n("div",X,[c(C,{description:"抱歉，没有找到相关商品"})]))])])}}}),os=F(Y,[["__scopeId","data-v-c0424209"]]);export{os as default};
